<!DOCTYPE html>
<html>
    <head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../style.css"/>
    <script src='../main.js'></script>
    <title>Listar Clientes</title>
</head>

<body>
    <div id="cabecalho">
        <div class="inicio">
            <li><a href="../index.html">PROJETO</a></li>
        </div>	

    <div id="div-reta"></div>

    <div class = "start">
        <div class = "listagem inicio">
            <div class = "escrito1"><b>LISTA DE CLIENTES</b></div>
            <span id="tabela-clientes"></span>
            
            <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
                <script>
                    axios.get('http://localhost:3010/cliente').then(res => {
                    var tabela = '<table class="table tabela">';
                    tabela += '<thead class = "cabTabela">' +
                        "<tr>" +
                        "<th scope='col'>#</th>" +
                        "<th scope='col'>Nome</th>" +
                        "<th scope='col'>Sobrenome</th>" +
                        "<th scope='col'>Email</th>" +
                        "<th scope='col'>Data de Cadastro</th>" +
                        "<th scope='col'>Sal√°rio</th>" +
                        "<th style='text-align: center' scope='col'>Perfil </th>" +
                        "</tr>" +
                        "</thead>" +
                        "<tbody class='table-group-divider'>";
                    var i = 0;
                    res.data.forEach(element => {
                        tabela += "<tr>";
                        tabela += `<th scope="row">${element.id_cliente}</th>`;
                        tabela += `<td>${element.nome}</td>`;
                        tabela += `<td>${element.sobrenome}</td>`;
                        tabela += `<td>${element.email}</td>`;
                        tabela += `<td>${element.data_cadastro}</td>`;
                        tabela += `<td>R$${element.salario}</td>`;
                        tabela += `<td><a href="perfilClientes.html?id_cliente=${element.id_cliente}" id="button3" list-group-item list-group-item-action active">Ver</a>` +
                                  `<a href="deletarClientes.html?id_cliente=${element.id_cliente}&delete="nao" id="button3" list-group-item list-group-item-action active">Delete</a>` +
                                  `<a href="updateClientes.html?id_cliente=${element.id_cliente}&nome=${element.nome}&sobrenome=${element.sobrenome}&email=${element.email}&salario=${element.salario}" id="button3" list-group-item list-group-item-action active">Alterar</a></td>`;
                        tabela += "</tr>";
                    });
                    tabela += "</tbody>";
                    tabela += "</table>";
                    document.getElementById('tabela-clientes').innerHTML = tabela;
                })
            </script>

        </div>
    </div>
</body>

</html>